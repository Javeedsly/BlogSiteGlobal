@model DashboardVM

@{
    ViewData["Title"] = "Admin Dashboard";
    int counter = 1;
}

<div class="container mt-4">

    <h2>Son Gələn Mesajlar</h2>
    <table class="table table-bordered table-striped mt-3">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Ad</th>
                <th>Email</th>
                <th>Mövzu</th>
                <th>Mesaj</th>
                <th>Tarix</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ContactMessages)
            {
                <tr>
                    <td>@item.Id</td>
                    <td>@item.Name</td>
                    <td>@item.Email</td>
                    <td>@item.Subject</td>
                    <td>@item.Message.Length > 50 ? @item.Message.Substring(0, 50) + "..." : @item.Message</td>
                    <td>@item.CreatedAt.ToString("dd.MM.yyyy HH:mm")</td>
                </tr>
            }
        </tbody>
    </table>
    <a asp-controller="AdminContact" asp-action="Index" class="btn btn-primary">Bütün Mesajlara Bax</a>

    <hr class="my-5" />

    <h2>Son Portfolio Layihələr</h2>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>#</th>
                <th>Başlıq</th>
                <th>Link</th>
                <th>Şəkil</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Portfolios)
            {
                <tr>
                    <td>@(counter++)</td>
                    <td>@item.Title</td>
                    <td><a href="@item.ProjectUrl" target="_blank">@item.ProjectUrl</a></td>
                    <td>
                        <img src="@Url.Content(item.ImagePath)" width="100" height="100" />
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <a asp-controller="Portfolio" asp-action="Index" class="btn btn-primary">Bütün Portfolioya Bax</a>

</div>
